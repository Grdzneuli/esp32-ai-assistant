<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32-S3 AI Assistant - User Manual</title>
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-card: #1a1a24;
            --accent: #00d4ff;
            --accent-dim: #0099bb;
            --text: #ffffff;
            --text-dim: #888899;
            --success: #00ff88;
            --warning: #ffaa00;
            --error: #ff4466;
            --user-msg: #00ff88;
            --ai-msg: #ffdd00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.3;
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 30% 30%, var(--accent) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, #6600ff 0%, transparent 50%);
            animation: bgPulse 15s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-5%, -5%) scale(1.1); }
        }

        /* Header */
        header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, transparent 100%);
        }

        .logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
            background: var(--bg-card);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 60px rgba(0, 212, 255, 0.2);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .logo svg {
            width: 60px;
            height: 60px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--accent), #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-dim);
            font-size: 1.1rem;
        }

        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            background: rgba(10, 10, 15, 0.9);
            backdrop-filter: blur(20px);
            padding: 15px 20px;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        nav ul {
            display: flex;
            justify-content: center;
            gap: 30px;
            list-style: none;
            flex-wrap: wrap;
        }

        nav a {
            color: var(--text-dim);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover {
            color: var(--accent);
        }

        /* Main content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        section {
            margin-bottom: 80px;
        }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent);
            display: inline-block;
        }

        /* Hardware section */
        .hardware-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .hardware-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .hardware-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.1);
        }

        .hardware-card h3 {
            color: var(--accent);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hardware-card p {
            color: var(--text-dim);
        }

        /* Device mockup */
        .device-container {
            display: flex;
            justify-content: center;
            margin: 40px 0;
        }

        .device-mockup {
            width: 200px;
            height: 380px;
            background: #1a1a24;
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .device-screen {
            width: 100%;
            height: 280px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .screen-status-bar {
            height: 25px;
            background: #2a2a34;
            display: flex;
            align-items: center;
            padding: 0 10px;
            justify-content: space-between;
        }

        .wifi-bars {
            display: flex;
            gap: 2px;
            align-items: flex-end;
        }

        .wifi-bar {
            width: 3px;
            background: var(--accent);
            border-radius: 1px;
        }

        .screen-content {
            padding: 10px;
            height: calc(100% - 50px);
            display: flex;
            flex-direction: column;
        }

        .chat-message {
            padding: 8px 12px;
            border-radius: 10px;
            margin-bottom: 8px;
            font-size: 11px;
            max-width: 85%;
            opacity: 0;
            animation: messageAppear 0.5s forwards;
        }

        .chat-message.user {
            background: rgba(0, 255, 136, 0.2);
            color: var(--user-msg);
            align-self: flex-end;
            animation-delay: 0.5s;
        }

        .chat-message.ai {
            background: rgba(255, 221, 0, 0.2);
            color: var(--ai-msg);
            align-self: flex-start;
            animation-delay: 1.5s;
        }

        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .screen-state-bar {
            height: 25px;
            background: #2a2a34;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: var(--text-dim);
        }

        .device-led {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
            animation: ledPulse 2s ease-in-out infinite;
        }

        @keyframes ledPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .device-buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }

        .device-btn {
            width: 40px;
            height: 40px;
            background: #2a2a34;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: var(--text-dim);
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .device-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .device-btn:active {
            transform: scale(0.95);
            background: var(--accent);
            color: var(--bg-primary);
        }

        /* Flow diagram */
        .flow-container {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 40px;
            overflow-x: auto;
        }

        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            min-width: 800px;
            flex-wrap: wrap;
        }

        .flow-state {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
        }

        .flow-state::before {
            content: '';
            position: absolute;
            inset: -5px;
            border-radius: 50%;
            border: 2px dashed transparent;
            transition: all 0.3s;
        }

        .flow-state:hover::before {
            border-color: var(--accent);
            animation: rotateBorder 10s linear infinite;
        }

        @keyframes rotateBorder {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .flow-state.active {
            transform: scale(1.1);
            box-shadow: 0 0 30px currentColor;
        }

        .flow-state.init { background: linear-gradient(135deg, #333, #222); color: var(--text-dim); }
        .flow-state.connecting { background: linear-gradient(135deg, #0099bb, #006688); color: white; }
        .flow-state.idle { background: linear-gradient(135deg, #334, #223); color: var(--accent); border: 2px solid var(--accent); }
        .flow-state.listening { background: linear-gradient(135deg, #ff4466, #cc2244); color: white; }
        .flow-state.processing { background: linear-gradient(135deg, #00d4ff, #0088aa); color: white; }
        .flow-state.responding { background: linear-gradient(135deg, #ffdd00, #cc9900); color: #333; }
        .flow-state.error { background: linear-gradient(135deg, #ff2244, #aa0022); color: white; }

        .flow-state .state-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .flow-arrow {
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, var(--accent), transparent);
            position: relative;
        }

        .flow-arrow::after {
            content: '';
            position: absolute;
            right: 0;
            top: -4px;
            border: 5px solid transparent;
            border-left-color: var(--accent);
        }

        .flow-arrow.animated::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--accent);
            border-radius: 50%;
            top: -4px;
            left: 0;
            animation: flowMove 1.5s ease-in-out infinite;
        }

        @keyframes flowMove {
            0% { left: 0; opacity: 1; }
            100% { left: 100%; opacity: 0; }
        }

        /* Interactive flow */
        .interactive-flow {
            margin-top: 40px;
        }

        .flow-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .flow-btn {
            padding: 12px 24px;
            background: var(--bg-secondary);
            border: 2px solid var(--accent);
            color: var(--accent);
            border-radius: 30px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .flow-btn:hover {
            background: var(--accent);
            color: var(--bg-primary);
        }

        .flow-btn.active {
            background: var(--accent);
            color: var(--bg-primary);
        }

        /* State timeline */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--bg-secondary);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            width: 45%;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .timeline-item:nth-child(odd) .timeline-content {
            text-align: right;
        }

        .timeline-dot {
            width: 20px;
            height: 20px;
            background: var(--accent);
            border-radius: 50%;
            margin: 0 20px;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .timeline-dot::after {
            content: '';
            position: absolute;
            inset: -5px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            animation: dotPulse 2s ease-out infinite;
        }

        @keyframes dotPulse {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        /* Buttons guide */
        .buttons-guide {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .buttons-guide {
                grid-template-columns: 1fr;
            }
        }

        .button-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .button-icon {
            width: 80px;
            height: 80px;
            background: var(--bg-secondary);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            border: 3px solid var(--accent);
            transition: all 0.3s;
        }

        .button-card:hover .button-icon {
            background: var(--accent);
            transform: scale(1.1);
        }

        .button-card h3 {
            color: var(--accent);
            margin-bottom: 15px;
        }

        .button-actions {
            text-align: left;
            margin-top: 20px;
        }

        .button-action {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: var(--bg-secondary);
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .button-action .action-trigger {
            color: var(--accent);
            font-weight: 600;
            min-width: 80px;
        }

        /* LED states */
        .led-states {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .led-state {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .led-indicator {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .led-indicator.breathing {
            animation: ledBreathing 2s ease-in-out infinite;
        }

        .led-indicator.pulse {
            animation: ledPulseAnim 0.5s ease-in-out infinite;
        }

        @keyframes ledBreathing {
            0%, 100% { opacity: 0.3; transform: scale(0.9); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        @keyframes ledPulseAnim {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .led-connecting { background: #00d4ff; box-shadow: 0 0 20px #00d4ff; }
        .led-idle { background: #666; box-shadow: 0 0 10px #666; }
        .led-listening { background: #ff4466; box-shadow: 0 0 20px #ff4466; }
        .led-thinking { background: #00d4ff; box-shadow: 0 0 20px #00d4ff; }
        .led-speaking { background: #ffdd00; box-shadow: 0 0 20px #ffdd00; }
        .led-error { background: #ff2244; box-shadow: 0 0 20px #ff2244; }

        /* Quick start */
        .quick-start {
            background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-secondary) 100%);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .steps {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin-top: 30px;
        }

        .step {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: var(--accent);
            color: var(--bg-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content h3 {
            color: var(--text);
            margin-bottom: 8px;
        }

        .step-content p {
            color: var(--text-dim);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-dim);
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
        }

        /* Animations on scroll */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <header>
        <div class="logo">
            <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="40" stroke="url(#grad)" stroke-width="4" fill="none"/>
                <circle cx="50" cy="35" r="12" fill="#00d4ff"/>
                <path d="M30 60 Q50 80 70 60" stroke="#00d4ff" stroke-width="4" fill="none" stroke-linecap="round"/>
                <circle cx="35" cy="45" r="3" fill="#00d4ff"/>
                <circle cx="65" cy="45" r="3" fill="#00d4ff"/>
                <defs>
                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00d4ff"/>
                        <stop offset="100%" style="stop-color:#6600ff"/>
                    </linearGradient>
                </defs>
            </svg>
        </div>
        <h1>ESP32-S3 AI Assistant</h1>
        <p class="subtitle">User Manual & Interactive Guide</p>
    </header>

    <nav>
        <ul>
            <li><a href="#quick-start">Quick Start</a></li>
            <li><a href="#hardware">Hardware</a></li>
            <li><a href="#buttons">Controls</a></li>
            <li><a href="#flow">User Flow</a></li>
            <li><a href="#states">States</a></li>
            <li><a href="#led">LED Guide</a></li>
        </ul>
    </nav>

    <main>
        <!-- Quick Start -->
        <section id="quick-start" class="fade-in">
            <h2>Quick Start</h2>
            <div class="quick-start">
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>Power On</h3>
                            <p>Connect USB-C power. The device will show a splash screen and begin connecting to WiFi.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>Wait for Connection</h3>
                            <p>The LED will breathe cyan while connecting. Once connected, you'll see the chat interface.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>Press BOOT to Talk</h3>
                            <p>Press the BOOT button to start recording. Speak your question clearly.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>Get Your Answer</h3>
                            <p>Release or wait for silence detection. The AI will process and respond!</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hardware Overview -->
        <section id="hardware" class="fade-in">
            <h2>Hardware Overview</h2>

            <div class="device-container">
                <div class="device-mockup">
                    <div class="device-led"></div>
                    <div class="device-screen">
                        <div class="screen-status-bar">
                            <div class="wifi-bars">
                                <div class="wifi-bar" style="height: 4px;"></div>
                                <div class="wifi-bar" style="height: 7px;"></div>
                                <div class="wifi-bar" style="height: 10px;"></div>
                                <div class="wifi-bar" style="height: 13px;"></div>
                            </div>
                            <span style="font-size: 10px; color: #888;">Vol: 70%</span>
                        </div>
                        <div class="screen-content">
                            <div class="chat-message user">Hello, what can you help me with?</div>
                            <div class="chat-message ai">Hi! I can help with questions, coding, IoT projects, and more!</div>
                        </div>
                        <div class="screen-state-bar">Ready - Press BOOT to talk</div>
                    </div>
                    <div class="device-buttons">
                        <div class="device-btn" onclick="simulateButton('vol-')">VOL-</div>
                        <div class="device-btn" onclick="simulateButton('boot')" style="background: #00d4ff22; border: 2px solid var(--accent);">BOOT</div>
                        <div class="device-btn" onclick="simulateButton('vol+')">VOL+</div>
                    </div>
                </div>
            </div>

            <div class="hardware-grid">
                <div class="hardware-card">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><rect x="2" y="3" width="20" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2"/><line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2"/></svg>
                        1.9" IPS Display
                    </h3>
                    <p>170x320 ST7789 TFT display showing chat messages, status, and assistant state.</p>
                </div>
                <div class="hardware-card">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" fill="none" stroke="currentColor" stroke-width="2"/><path d="M19 10v2a7 7 0 0 1-14 0v-2" fill="none" stroke="currentColor" stroke-width="2"/><line x1="12" y1="19" x2="12" y2="23" stroke="currentColor" stroke-width="2"/></svg>
                        I2S Microphone
                    </h3>
                    <p>Digital MEMS microphone for high-quality voice capture with silence detection.</p>
                </div>
                <div class="hardware-card">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" fill="none" stroke="currentColor" stroke-width="2"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07" fill="none" stroke="currentColor" stroke-width="2"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                        I2S Speaker
                    </h3>
                    <p>Audio amplifier for sound feedback and future text-to-speech responses.</p>
                </div>
                <div class="hardware-card">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="12" r="4" fill="currentColor"/></svg>
                        WS2812 LED
                    </h3>
                    <p>RGB status LED with animations showing current assistant state.</p>
                </div>
                <div class="hardware-card">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="4" width="12" height="16" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><line x1="10" y1="8" x2="14" y2="8" stroke="currentColor" stroke-width="2"/><line x1="10" y1="12" x2="14" y2="12" stroke="currentColor" stroke-width="2"/><line x1="10" y1="16" x2="14" y2="16" stroke="currentColor" stroke-width="2"/></svg>
                        Physical Buttons
                    </h3>
                    <p>BOOT button for voice control, VOL+/- for volume adjustment.</p>
                </div>
                <div class="hardware-card">
                    <h3>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M5 12.55a11 11 0 0 1 14.08 0" fill="none" stroke="currentColor" stroke-width="2"/><path d="M1.42 9a16 16 0 0 1 21.16 0" fill="none" stroke="currentColor" stroke-width="2"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="20" r="1" fill="currentColor"/></svg>
                        WiFi Connectivity
                    </h3>
                    <p>ESP32-S3 with 2.4GHz WiFi for cloud AI communication.</p>
                </div>
            </div>
        </section>

        <!-- Button Controls -->
        <section id="buttons" class="fade-in">
            <h2>Button Controls</h2>
            <div class="buttons-guide">
                <div class="button-card">
                    <div class="button-icon">&#9210;</div>
                    <h3>BOOT Button</h3>
                    <p>Main interaction button for voice control</p>
                    <div class="button-actions">
                        <div class="button-action">
                            <span class="action-trigger">Press</span>
                            <span>Start voice recording</span>
                        </div>
                        <div class="button-action">
                            <span class="action-trigger">Press</span>
                            <span>Stop recording (while listening)</span>
                        </div>
                        <div class="button-action">
                            <span class="action-trigger">Press</span>
                            <span>Interrupt response</span>
                        </div>
                    </div>
                </div>
                <div class="button-card">
                    <div class="button-icon">+</div>
                    <h3>VOL+ Button</h3>
                    <p>Increase audio volume</p>
                    <div class="button-actions">
                        <div class="button-action">
                            <span class="action-trigger">Press</span>
                            <span>Volume +10%</span>
                        </div>
                        <div class="button-action">
                            <span class="action-trigger">Hold</span>
                            <span>Continuous increase</span>
                        </div>
                    </div>
                </div>
                <div class="button-card">
                    <div class="button-icon">-</div>
                    <h3>VOL- Button</h3>
                    <p>Decrease audio volume</p>
                    <div class="button-actions">
                        <div class="button-action">
                            <span class="action-trigger">Press</span>
                            <span>Volume -10%</span>
                        </div>
                        <div class="button-action">
                            <span class="action-trigger">Hold</span>
                            <span>Continuous decrease</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive User Flow -->
        <section id="flow" class="fade-in">
            <h2>User Flow</h2>
            <div class="flow-container">
                <div class="flow-diagram" id="flowDiagram">
                    <div class="flow-state init" data-state="init">
                        <span class="state-icon">&#9889;</span>
                        <span>INIT</span>
                    </div>
                    <div class="flow-arrow animated"></div>
                    <div class="flow-state connecting" data-state="connecting">
                        <span class="state-icon">&#128246;</span>
                        <span>CONNECTING</span>
                    </div>
                    <div class="flow-arrow animated"></div>
                    <div class="flow-state idle" data-state="idle">
                        <span class="state-icon">&#9679;</span>
                        <span>IDLE</span>
                    </div>
                    <div class="flow-arrow animated"></div>
                    <div class="flow-state listening" data-state="listening">
                        <span class="state-icon">&#127908;</span>
                        <span>LISTENING</span>
                    </div>
                    <div class="flow-arrow animated"></div>
                    <div class="flow-state processing" data-state="processing">
                        <span class="state-icon">&#9881;</span>
                        <span>PROCESSING</span>
                    </div>
                    <div class="flow-arrow animated"></div>
                    <div class="flow-state responding" data-state="responding">
                        <span class="state-icon">&#128172;</span>
                        <span>RESPONDING</span>
                    </div>
                </div>

                <div class="interactive-flow">
                    <div class="flow-controls">
                        <button class="flow-btn" onclick="simulateFlow('boot')">Press BOOT</button>
                        <button class="flow-btn" onclick="simulateFlow('silence')">Silence Detected</button>
                        <button class="flow-btn" onclick="simulateFlow('response')">AI Responds</button>
                        <button class="flow-btn" onclick="simulateFlow('reset')">Reset</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- States Timeline -->
        <section id="states" class="fade-in">
            <h2>Assistant States</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3 style="color: var(--text-dim);">IDLE</h3>
                        <p>Ready and waiting. Display shows "Press BOOT to talk". LED is dim white.</p>
                    </div>
                    <div class="timeline-dot" style="background: #666;"></div>
                    <div style="width: 45%;"></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3 style="color: var(--error);">LISTENING</h3>
                        <p>Recording your voice. Red recording indicator on screen. LED pulses red.</p>
                    </div>
                    <div class="timeline-dot" style="background: var(--error);"></div>
                    <div style="width: 45%;"></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3 style="color: var(--accent);">PROCESSING</h3>
                        <p>Sending audio to Gemini AI. Display shows "Thinking...". LED breathes cyan.</p>
                    </div>
                    <div class="timeline-dot" style="background: var(--accent);"></div>
                    <div style="width: 45%;"></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3 style="color: var(--ai-msg);">RESPONDING</h3>
                        <p>AI response received. Text displayed on screen. LED pulses yellow.</p>
                    </div>
                    <div class="timeline-dot" style="background: var(--ai-msg);"></div>
                    <div style="width: 45%;"></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3 style="color: var(--error);">ERROR</h3>
                        <p>Something went wrong. Error message displayed. Auto-recovers after 5 seconds.</p>
                    </div>
                    <div class="timeline-dot" style="background: var(--error);"></div>
                    <div style="width: 45%;"></div>
                </div>
            </div>
        </section>

        <!-- LED Guide -->
        <section id="led" class="fade-in">
            <h2>LED Status Guide</h2>
            <div class="led-states">
                <div class="led-state">
                    <div class="led-indicator led-connecting breathing"></div>
                    <div>
                        <strong>Connecting</strong>
                        <p style="color: var(--text-dim); font-size: 14px;">Breathing cyan - WiFi connecting</p>
                    </div>
                </div>
                <div class="led-state">
                    <div class="led-indicator led-idle"></div>
                    <div>
                        <strong>Idle</strong>
                        <p style="color: var(--text-dim); font-size: 14px;">Dim white - Ready for input</p>
                    </div>
                </div>
                <div class="led-state">
                    <div class="led-indicator led-listening pulse"></div>
                    <div>
                        <strong>Listening</strong>
                        <p style="color: var(--text-dim); font-size: 14px;">Pulsing red - Recording audio</p>
                    </div>
                </div>
                <div class="led-state">
                    <div class="led-indicator led-thinking breathing"></div>
                    <div>
                        <strong>Thinking</strong>
                        <p style="color: var(--text-dim); font-size: 14px;">Breathing cyan - Processing</p>
                    </div>
                </div>
                <div class="led-state">
                    <div class="led-indicator led-speaking pulse"></div>
                    <div>
                        <strong>Speaking</strong>
                        <p style="color: var(--text-dim); font-size: 14px;">Pulsing yellow - AI responding</p>
                    </div>
                </div>
                <div class="led-state">
                    <div class="led-indicator led-error"></div>
                    <div>
                        <strong>Error</strong>
                        <p style="color: var(--text-dim); font-size: 14px;">Solid red - Error occurred</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>ESP32-S3 AI Assistant &copy; 2024 | Powered by <a href="https://ai.google.dev/" target="_blank">Google Gemini</a></p>
    </footer>

    <script>
        // Current flow state
        let currentState = 'idle';

        // Simulate button press on device mockup
        function simulateButton(button) {
            const stateBar = document.querySelector('.screen-state-bar');
            const led = document.querySelector('.device-led');

            if (button === 'boot') {
                if (currentState === 'idle') {
                    currentState = 'listening';
                    stateBar.textContent = 'Listening...';
                    stateBar.style.color = '#ff4466';
                    led.style.background = '#ff4466';
                    led.style.boxShadow = '0 0 10px #ff4466';
                    led.style.animation = 'ledPulseAnim 0.5s ease-in-out infinite';
                } else if (currentState === 'listening') {
                    currentState = 'processing';
                    stateBar.textContent = 'Thinking...';
                    stateBar.style.color = '#00d4ff';
                    led.style.background = '#00d4ff';
                    led.style.boxShadow = '0 0 10px #00d4ff';
                    led.style.animation = 'ledBreathing 2s ease-in-out infinite';

                    setTimeout(() => {
                        currentState = 'idle';
                        stateBar.textContent = 'Ready - Press BOOT to talk';
                        stateBar.style.color = '#888899';
                        led.style.background = '#00d4ff';
                        led.style.animation = 'ledPulse 2s ease-in-out infinite';
                    }, 2000);
                }
            } else if (button === 'vol+') {
                stateBar.textContent = 'Volume: 80%';
                setTimeout(() => {
                    stateBar.textContent = currentState === 'idle' ? 'Ready - Press BOOT to talk' : stateBar.textContent;
                }, 1000);
            } else if (button === 'vol-') {
                stateBar.textContent = 'Volume: 60%';
                setTimeout(() => {
                    stateBar.textContent = currentState === 'idle' ? 'Ready - Press BOOT to talk' : stateBar.textContent;
                }, 1000);
            }
        }

        // Simulate flow diagram
        function simulateFlow(action) {
            const states = document.querySelectorAll('.flow-state');

            states.forEach(s => s.classList.remove('active'));

            if (action === 'reset') {
                document.querySelector('[data-state="idle"]').classList.add('active');
                return;
            }

            if (action === 'boot') {
                document.querySelector('[data-state="listening"]').classList.add('active');
            } else if (action === 'silence') {
                document.querySelector('[data-state="processing"]').classList.add('active');
            } else if (action === 'response') {
                document.querySelector('[data-state="responding"]').classList.add('active');
                setTimeout(() => {
                    states.forEach(s => s.classList.remove('active'));
                    document.querySelector('[data-state="idle"]').classList.add('active');
                }, 2000);
            }
        }

        // Scroll animations
        function handleScrollAnimations() {
            const elements = document.querySelectorAll('.fade-in, .timeline-item');

            elements.forEach(el => {
                const rect = el.getBoundingClientRect();
                const isVisible = rect.top < window.innerHeight - 100;

                if (isVisible) {
                    el.classList.add('visible');
                }
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            handleScrollAnimations();
            document.querySelector('[data-state="idle"]').classList.add('active');
        });

        window.addEventListener('scroll', handleScrollAnimations);

        // Smooth scroll for nav links
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>
